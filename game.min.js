ORBS.setFullScreenGameCss();var renderer=new ORBS.renderer({renderState:update,antiAliasing:!1,bgColor:"#0a001a",fps:24,width:window.innerWidth,height:window.innerHeight}),scene=new ORBS.scene,levelsExplored=[],curLevel=0,velocity=40;renderer.addToImgCache(new ORBS.Sprite("./img/player-still.png"),"charecter"),renderer.addToImgCache(new ORBS.Sprite("./img/bg.png"),"bg"),renderer.addToImgCache(new ORBS.Sprite("./img/first-gun.png"),"firstGun"),renderer.addToImgCache(new ORBS.Sprite("./img/first-gun-left.png"),"firstGunLeft"),renderer.addToImgCache(new ORBS.Sprite("./img/ship.png"),"ship"),renderer.addToImgCache(new ORBS.Sprite("./img/ship-damaged.png"),"shipDamaged"),renderer.addToImgCache(new ORBS.Sprite("./img/box.png"),"box"),renderer.addToImgCache(new ORBS.Sprite("./img/folliage.png"),"folliage");var bg=new ORBS.obj({type:sprite,name:"bg"});function setup(e){e.add(bg);var r=new ORBS.scriptComponent((function(e,r,t){return e.y>t.screen.height-45&&(e.y=t.screen.height-44),e.y<49&&(levelChange(up),e.y=50),e.x>t.screen.width-31&&(e.x=t.screen.width-30),e.x<31&&(e.x=30),e})),t=new ORBS.obj({type:sprite,name:"charecter"});t.vars({x:900,y:600,width:100,height:100,sprite:renderer.imgStore.charecter,collisionLayer:"boxes",hitbox:{shape:rect,width:100,height:80,center:[0,0]},collideReact:!0}),t.attachScript(r),e.add(t);var n=new ORBS.scriptComponent((function(e,r,n){return e.y=t.y+30,renderer.events.mouse.x<=t.x?(e.sprite=renderer.imgStore.firstGunLeft,e.x=t.x-20):(e.sprite=renderer.imgStore.firstGun,e.x=t.x+20),e})),i=new ORBS.obj({type:sprite,name:"gun"});i.vars({x:50,y:50,width:40,height:40,sprite:renderer.imgStore.firstGun}),i.attachScript(n),e.add(i)}function levelChange(e){e==up&&(renderer.setScene(levels[curLevel+1]()),curScene++)}function text(e){document.getElementById("textbox").innerHTML=e,document.getElementById("textbox").className=""}bg.vars({x:720,y:540,width:1440,height:1080,sprite:renderer.imgStore.bg}),levels=[()=>{let e=new ORBS.scene;e.collisionLayerSet("boxes"),setup(e);var r=new ORBS.obj({type:sprite,name:"shipDamaged"});r.vars({x:550,y:600,width:500,height:500,sprite:renderer.imgStore.shipDamaged}),e.add(r);var t=new ORBS.obj({type:sprite,name:"box"});t.vars({x:1300,y:200,width:100,height:100,sprite:renderer.imgStore.box,collisionLayer:"boxes",hitbox:{shape:rect,width:100,height:100,center:[0,0]}}),e.add(t);var n=new ORBS.obj({type:sprite,name:"box2"});n.vars({x:1200,y:350,width:100,height:100,sprite:renderer.imgStore.box,collisionLayer:"boxes",hitbox:{shape:rect,width:100,height:100,center:[0,0]}}),e.add(n);var i=new ORBS.obj({type:sprite,name:"folliage"});i.vars({x:720,y:650,width:75,height:75,sprite:renderer.imgStore.folliage,collisionLayer:"boxes",hitbox:{shape:rect,width:100,height:100,center:[0,0]}}),e.add(i);var o=new ORBS.obj({type:sprite,name:"folliage2"});o.vars({x:570,y:685,width:75,height:75,sprite:renderer.imgStore.folliage,collisionLayer:"boxes",hitbox:{shape:rect,width:100,height:100,center:[0,0]}}),e.add(o);var a=new ORBS.obj({type:sprite,name:"folliage3"});a.vars({x:380,y:600,width:75,height:75,sprite:renderer.imgStore.folliage,collisionLayer:"boxes",hitbox:{shape:rect,width:100,height:100,center:[0,0]}}),e.add(a);for(let r=0;r<3;r++){let t=new ORBS.obj({type:sprite,name:"folliage"+r+4});t.vars({x:Math.floor(1340*Math.random())+100,y:Math.floor(980*Math.random())+100,width:75,height:75,sprite:renderer.imgStore.folliage}),e.add(t)}return 1!=levelsExplored[0]&&text("You have crashed landed on <strong>QSBXb25kZXJmdWwgUHVycGxlIFBsYW5ldCAg</strong>, look around to find resources to fix the ship and look for fuel like resource to get back to earth."),e},()=>{let e=new ORBS.scene;e.collisionLayerSet("boxes"),setup(e);for(let r=0;r<3;r++){let t=new ORBS.obj({type:sprite,name:"folliage"+r});t.vars({x:Math.floor(1340*Math.random())+100,y:Math.floor(980*Math.random())+100,width:75,height:75,sprite:renderer.imgStore.folliage}),e.add(t)}return 1!=levelsExplored[1]&&(text('Looks like there are aliens on this planet;\n\n<span style="color: springgreen;">SCANING SURROUNDING</span>'),setTimeout((()=>text('<span style="color: springgreen;">SCANING COMPLETE</span>; Hmm, looks like there are some aliens in the area moving my way, and they look quite agrasive acording to the Sonar scans.')),5e3),setTimeout((()=>text("Looks like we need to get ready to fight. Use the 'LEFT MOUSE BUTTON' to shoot in the direction of your mouse; this is a basic self defence gun, acuire materials to upgrade the gun.")),15e3)),e}],renderer.on("keyboardEvent",(e=>{1!=e.keyMap.ArrowLeft&&1!=e.keyMap.a||(e.scene.getObj("charecter").x-=velocity*e.delta),1!=e.keyMap.ArrowUp&&1!=e.keyMap.w||(e.scene.getObj("charecter").y-=velocity*e.delta),1!=e.keyMap.ArrowRight&&1!=e.keyMap.d||(e.scene.getObj("charecter").x+=velocity*e.delta),1!=e.keyMap.ArrowDown&&1!=e.keyMap.s||(e.scene.getObj("charecter").y+=velocity*e.delta)})),console.log(renderer),console.log(scene),renderer.setSize(1440,1080),window.onresize=()=>{window.innerHeight<=1080?document.body.style.zoom=window.innerHeight/10*.9+"%":window.innerHeight>1080&&(document.body.style.zoom="100%")},renderer.shaderSet((e=>{e.filter="brightness(110%)"})),renderer.canvasAttactToDom(document.body,"prepend"),window.onload=()=>{renderer.startRenderCycle(),renderer.setScene(levels[0]()),curLevel=0},document.body.onclick=()=>{document.getElementById("textbox").className="hide"};
